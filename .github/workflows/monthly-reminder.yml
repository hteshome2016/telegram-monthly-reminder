name: Monthly Fee Reminder

on:
  schedule:
    #- cron: '0 6 1-5 * *'   # 9 AM Ethiopia (UTC+3)
    - cron: '0 6 14 * *'   # Runs on the 14th at 9 AM Ethiopia time

  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    steps:
      - name: Send Telegram reminder
        env:
          BOT_TOKEN: ${{ secrets.BOT_TOKEN }}
          CHAT_ID: ${{ secrets.CHAT_ID }}
        run: |
          MESSAGE="Dear people üëã
          Please make sure you pay your monthly fee of 200 birr.
          Thank you üôè"

          curl -sS -X POST "https://api.telegram.org/bot${BOT_TOKEN}/sendMessage" \
            -d chat_id="${CHAT_ID}" \
            -d text="${MESSAGE}"
